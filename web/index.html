<html>
<head>
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.5/build/pure-min.css" integrity="sha384-LTIDeidl25h2dPxrB2Ekgc9c7sEC3CWGM6HeFmuDNUjX76Ert4Z4IY714dhZHPLd" crossorigin="anonymous">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>
    <script type="text/javascript">
        function listDIDs() {
            fetch("/api/vdr")
                .then(function (response) {
                    return response.json();
                })
                .then(function (dids) {
                    let didList = $('#didList');
                    didList.empty();
                    didList.append(dids.map(d => $('<li><a href="javascript:showDID(\'' + d + '\')">' + d + '</a></li>')));
                })
                .catch(function (error) {
                    console.log("Error: " + error);
                });
        }

        function showDID(did) {
            fetch("/api/vdr/" + did)
                .then(function (response) {
                    return response.json();
                })
                .then(function (didDocument) {
                    $('#didDocument').text(JSON.stringify(didDocument, null, 2));
                })
                .catch(function (error) {
                    console.log("Error: " + error);
                });
        }

    </script>
</head>
<body>
<h1>DID Explorer</h1>
<ul id="didList"></ul>
<h2>DID Document</h2>
<pre id="didDocument"></pre>

<script type="text/javascript">
    listDIDs();
</script>
</body>
</html>